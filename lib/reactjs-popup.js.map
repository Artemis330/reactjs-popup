{"version":3,"file":"reactjs-popup.js","sources":["../src/Utils.js","../src/popup.css.js","../src/Popup.js"],"sourcesContent":["/* Algo to calculate position \n  1. center position for popup content : the center of the trigger will be the center of the content content\n      so the popup content position will be like this :\n      top => the y of the center for the trigger element : trigger.top + trigger.height/2\n      left => the x of the center for the trigger element : trigger.left + trigger.width/2\n\n  2. translate position according to the first  position attribute  passed  in the function argument \n      for example :\n        position = 'left top'\n        we need to handle the first argument in the position: 'left' => that's mean we need to translate the popup content according to the X axis by - content.width/2\n      \n  3.translate position according to the first  position attribute  passed  in the function argument \n    for example :\n      position = 'left top'\n      the second argument 'top' => translate popup content by + content.height*4/5\n\n*/\n\nexport default function calculatePosition(\n  triggerBounding,\n  ContentBounding,\n  position,\n  arrow,\n  offset\n) {\n  const style = {};\n  const margin = arrow ? 8 : 0;\n  const MarginX = margin + offset.offsetX;\n  const MarginY = margin + offset.offsetY;\n  const args = position.split(\" \");\n  // the step N 1 : center the popup content => ok\n  const CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  const CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  const { height, width } = ContentBounding;\n  let top = CenterTop - height / 2;\n  let left = CenterLeft - width / 2;\n  let transform = \"\";\n  let arrowTop = \"0%\";\n  let arrowLeft = \"0%\";\n  // the  step N 2 : => ok\n  switch (args[0]) {\n    case \"top\":\n      top -= height / 2 + triggerBounding.height / 2 + MarginY;\n      transform = `rotate(45deg)`;\n      arrowTop = \"100%\";\n      arrowLeft = \"50%\";\n      break;\n    case \"bottom\":\n      top += height / 2 + triggerBounding.height / 2 + MarginY;\n      transform = `rotate(225deg)`;\n      arrowLeft = \"50%\";\n      break;\n    case \"left\":\n      left -= width / 2 + triggerBounding.width / 2 + MarginX;\n      transform = ` rotate(-45deg)`;\n      arrowLeft = \"100%\";\n      arrowTop = \"50%\";\n      break;\n    case \"right\":\n      left += width / 2 + triggerBounding.width / 2 + MarginX;\n      transform = `rotate(135deg)`;\n      arrowTop = \"50%\";\n\n      break;\n  }\n  switch (args[1]) {\n    case \"top\":\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n    case \"bottom\":\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n    case \"left\":\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n    case \"right\":\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  return { top, left, transform, arrowLeft, arrowTop };\n}\n","export default {\n  popupContent: {\n    tooltip: {\n      position: \"absolute\",\n      zIndex: \"2\",\n      width: \"200px\",\n      background: `rgb(255, 255, 255)`,\n      border: `1px solid rgb(187, 187, 187)`,\n      boxShadow: `rgba(0, 0, 0, 0.2) 0px 1px 3px`,\n      padding: \"5px\"\n    },\n    modal: {\n      position: \"relative\",\n      background: `rgb(255, 255, 255)`,\n      width: \"50%\",\n      margin: \"auto\",\n      border: `1px solid rgb(187, 187, 187)`,\n      padding: \"5px\"\n    }\n  },\n  popupArrow: {\n    height: \"10px\",\n    width: \"10px\",\n    position: \"absolute\",\n    background: \"rgb(255, 255, 255)\",\n    transform: \"rotate(45deg)\",\n    margin: \"-5px\",\n    zIndex: \"-1\",\n    boxShadow: \"rgba(0, 0, 0, 0.2) 1px 1px 1px\"\n  },\n  overlay: {\n    tooltip: {\n      position: \"fixed\",\n      top: \"0\",\n      bottom: \"0\",\n      left: \"0\",\n      right: \"0\"\n    },\n    modal: {\n      position: \"fixed\",\n      top: \"0\",\n      bottom: \"0\",\n      left: \"0\",\n      right: \"0\",\n      background: `rgba(0, 0, 0,0.5)`,\n      display: \"flex\",\n      zIndex: \"999\"\n    }\n  }\n};\n","import React from \"react\";\nimport { findDOMNode } from \"react-dom\";\nimport calculatePosition from \"./Utils\";\n\nimport styles from \"./popup.css.js\";\n\nexport default class Popup extends React.Component {\n  static defaultProps = {\n    children: () => <span> Your Content Here !!</span>,\n    onOpen: () => {},\n    onClose: () => {},\n    closeOnDocumentClick: false,\n    closeOnEscape: true,\n    defaultOpen: false,\n    on: [\"click\"],\n    contentStyle: {},\n    arrowStyle: {},\n    overlayStyle: {},\n    className: \"\",\n    position: \"bottom center\",\n    modal: false,\n    lockScroll: true,\n    arrow: true,\n    offsetX: 0,\n    offsetY: 0,\n    mouseEnterDelay: 100,\n    mouseLeaveDelay: 100\n  };\n  state = {\n    isOpen: this.props.defaultOpen\n  };\n\n  constructor(props) {\n    super(props);\n    this.setTriggerRef = r => (this.TriggerEl = r);\n    this.setContentRef = r => (this.ContentEl = r);\n    this.setArrowRef = r => (this.ArrowEl = r);\n    this.setHelperRef = r => (this.HelperEl = r);\n    this.timeOut = 0;\n  }\n\n  componentDidMount() {\n    const { closeOnEscape, defaultOpen } = this.props;\n    if (defaultOpen) this.setPosition();\n    if (closeOnEscape) {\n      window.addEventListener(\"keyup\", e => {\n        if (e.key === \"Escape\") this.closePopup();\n      });\n    }\n  }\n  componentWillUnmount() {\n    clearTimeout(this.timeOut);\n  }\n\n  lockScroll = () => {\n    if (this.props.modal && this.props.lockScroll)\n      document.getElementsByTagName(\"body\")[0].style.overflow = \"hidden\";\n  };\n  resetScroll = () => {\n    if (this.props.modal && this.props.lockScroll)\n      document.getElementsByTagName(\"body\")[0].style.overflow = \"auto\";\n  };\n\n  togglePopup = () => {\n    if (this.state.isOpen) this.closePopup();\n    else this.openPopup();\n  };\n  openPopup = () => {\n    if (this.state.isOpen) return;\n    this.setState({ isOpen: true }, () => {\n      this.setPosition();\n      this.props.onOpen();\n      this.lockScroll();\n    });\n  };\n  closePopup = () => {\n    if (!this.state.isOpen) return;\n    this.setState({ isOpen: false }, () => {\n      this.props.onClose();\n      this.resetScroll();\n    });\n  };\n  onMouseEnter = () => {\n    clearTimeout(this.timeOut);\n    const { mouseEnterDelay } = this.props;\n    this.timeOut = setTimeout(() => this.openPopup(), mouseEnterDelay);\n  };\n  onMouseLeave = () => {\n    clearTimeout(this.timeOut);\n    const { mouseLeaveDelay } = this.props;\n    this.timeOut = setTimeout(() => this.closePopup(), mouseLeaveDelay);\n  };\n\n  setPosition = () => {\n    const { modal, arrow, position, offsetX, offsetY } = this.props;\n    if (modal) return;\n    const helper = this.HelperEl.getBoundingClientRect();\n    const trigger = this.TriggerEl.getBoundingClientRect();\n    const content = this.ContentEl.getBoundingClientRect();\n    const cords = calculatePosition(trigger, content, position, arrow, {\n      offsetX,\n      offsetY\n    });\n    this.ContentEl.style.top = cords.top - helper.top + \"px\";\n    this.ContentEl.style.left = cords.left - helper.left + \"px\";\n    if (arrow) {\n      this.ArrowEl.style[\"transform\"] = cords.transform;\n      this.ArrowEl.style[\"-ms-transform\"] = cords.transform;\n      this.ArrowEl.style[\"-webkit-transform\"] = cords.transform;\n      this.ArrowEl.style.top = cords.arrowTop;\n      this.ArrowEl.style.left = cords.arrowLeft;\n    }\n    if (\n      window\n        .getComputedStyle(this.TriggerEl, null)\n        .getPropertyValue(\"position\") == \"static\" ||\n      window\n        .getComputedStyle(this.TriggerEl, null)\n        .getPropertyValue(\"position\") == \"\"\n    )\n      this.TriggerEl.style.position = \"relative\";\n  };\n\n  addWarperAction = () => {\n    const { contentStyle, className, modal, on } = this.props;\n    const popupContentStyle = modal\n      ? styles.popupContent.modal\n      : styles.popupContent.tooltip;\n\n    const childrenElementProps = {\n      className: `popup-content ${className}`,\n      style: Object.assign({}, popupContentStyle, contentStyle),\n      ref: this.setContentRef,\n      onClick: e => {\n        e.stopPropagation();\n      }\n    };\n    if (!modal && on.includes(\"hover\")) {\n      childrenElementProps.onMouseEnter = this.onMouseEnter;\n      childrenElementProps.onMouseLeave = this.onMouseLeave;\n    }\n    return childrenElementProps;\n  };\n  renderTrigger = () => {\n    const triggerProps = { key: \"T\" };\n    const { on, trigger } = this.props;\n    const onAsArray = Array.isArray(on) ? on : [on];\n    for (let i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case \"click\":\n          triggerProps.onClick = this.togglePopup;\n          break;\n        case \"hover\":\n          triggerProps.onMouseEnter = this.onMouseEnter;\n          triggerProps.onMouseLeave = this.onMouseLeave;\n        case \"focus\":\n          triggerProps.onFocus = this.onMouseEnter;\n          break;\n      }\n    }\n\n    if (typeof trigger === \"function\")\n      return React.cloneElement(trigger(this.state.isOpen), triggerProps);\n\n    return React.cloneElement(trigger, triggerProps);\n  };\n\n  renderContent = () => {\n    const { arrow, modal, arrowStyle } = this.props;\n    return (\n      <div {...this.addWarperAction()} key=\"C\">\n        {arrow &&\n          !modal && (\n            <div\n              ref={this.setArrowRef}\n              style={Object.assign({}, styles.popupArrow, arrowStyle)}\n            />\n          )}\n        {typeof this.props.children === \"function\"\n          ? this.props.children(this.closePopup, this.state.isOpen)\n          : this.props.children}\n      </div>\n    );\n  };\n\n  render() {\n    const { modal, overlayStyle, closeOnDocumentClick } = this.props;\n    const ovStyle = modal ? styles.overlay.modal : styles.overlay.tooltip;\n    return [\n      <div\n        key=\"H\"\n        style={{ position: \"absolute\", top: \"0px\", left: \"0px\" }}\n        ref={this.setHelperRef}\n      />,\n      this.state.isOpen && (\n        <div\n          key=\"O\"\n          className=\"popup-overlay\"\n          style={Object.assign({}, ovStyle, overlayStyle)}\n          onClick={closeOnDocumentClick ? this.closePopup : undefined}\n        >\n          {modal && this.renderContent()}\n        </div>\n      ),\n      this.state.isOpen && !modal && this.renderContent(),\n      <Ref innerRef={this.setTriggerRef} key=\"R\">\n        {this.renderTrigger()}\n      </Ref>\n    ];\n  }\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  const PropTypes = require(\"prop-types\");\n\n  Popup.propTypes = {\n    arrowStyle: PropTypes.object,\n    contentStyle: PropTypes.object,\n    overlayStyle: PropTypes.object,\n    className: PropTypes.string,\n    modal: PropTypes.bool,\n    closeOnDocumentClick: PropTypes.bool,\n    lockScroll: PropTypes.bool,\n    offsetX: PropTypes.number,\n    offsetY: PropTypes.number,\n    mouseEnterDelay: PropTypes.number,\n    mouseLeaveDelay: PropTypes.number,\n    onOpen: PropTypes.func,\n    onClose: PropTypes.func,\n    trigger: PropTypes.oneOfType([PropTypes.func, PropTypes.element])\n      .isRequired,\n    on: PropTypes.oneOfType([\n      PropTypes.oneOf([\"hover\", \"click\", \"focus\"]),\n      PropTypes.arrayOf(PropTypes.oneOf([\"hover\", \"click\", \"focus\"]))\n    ]),\n    children: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.element,\n      PropTypes.string\n    ]).isRequired,\n    position: PropTypes.oneOf([\n      \"top left\",\n      \"top center\",\n      \"top right\",\n      \"bottom left\",\n      \"bottom center\",\n      \"bottom right\",\n      \"right top\",\n      \"right center\",\n      \"right bottom\",\n      \"left top\",\n      \"left center\",\n      \"left bottom\"\n    ])\n  };\n}\n\nclass Ref extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  componentDidMount() {\n    const { innerRef } = this.props;\n    if (innerRef) innerRef(findDOMNode(this));\n  }\n  render() {\n    const { children } = this.props;\n    return React.Children.only(children);\n  }\n}\n"],"names":["calculatePosition","triggerBounding","ContentBounding","position","arrow","offset","margin","MarginX","offsetX","MarginY","offsetY","args","split","CenterTop","top","height","CenterLeft","left","width","transform","arrowTop","arrowLeft","Popup","props","state","defaultOpen","lockScroll","modal","document","getElementsByTagName","style","overflow","resetScroll","togglePopup","isOpen","closePopup","openPopup","setState","setPosition","onOpen","onClose","onMouseEnter","timeOut","mouseEnterDelay","setTimeout","onMouseLeave","mouseLeaveDelay","helper","HelperEl","getBoundingClientRect","trigger","TriggerEl","content","ContentEl","cords","ArrowEl","window","getComputedStyle","getPropertyValue","addWarperAction","contentStyle","className","on","popupContentStyle","styles","popupContent","tooltip","childrenElementProps","Object","assign","setContentRef","stopPropagation","includes","renderTrigger","triggerProps","key","onAsArray","Array","isArray","i","len","length","onClick","onFocus","React","cloneElement","renderContent","arrowStyle","setArrowRef","popupArrow","children","setTriggerRef","r","setHelperRef","closeOnEscape","addEventListener","e","overlayStyle","closeOnDocumentClick","ovStyle","overlay","undefined","Component","defaultProps","PropTypes","require","propTypes","object","string","bool","number","func","oneOfType","element","isRequired","oneOf","arrayOf","Ref","innerRef","findDOMNode","Children","only"],"mappings":"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"}