!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):e["reactjs-popup"]=t(e.React)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t={popupContent:{position:"absolute",zIndex:"2",width:"200px",background:"rgb(255, 255, 255)",border:"1px solid rgb(187, 187, 187)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 1px 3px"},popupArrow:{height:"10px",width:"10px",position:"absolute",background:"rgb(255, 255, 255)",transform:"rotate(45deg)",margin:"-5px",boxShadow:"rgba(0, 0, 0, 0.2) 2px 2px 1px"},overlay:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0"}},o=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}();var r=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component);function n(o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,o));return r.state={isOpen:r.props.defaultOpen},r.timeOut=0,r.togglePopup=function(){r.setState(function(e){return{isOpen:!e.isOpen}},function(){return r.state.isOpen&&r.setPosition()})},r.openPopup=function(){r.setState({isOpen:!0},function(){return r.setPosition()})},r.closePopup=function(){r.setState({isOpen:!1})},r.onMouseEnter=function(){clearTimeout(r.timeOut),r.openPopup()},r.onMouseLeave=function(){clearTimeout(r.timeOut),r.timeOut=setTimeout(function(){return r.closePopup()},300)},r.setPosition=function(){var e=r.HelperEl.getBoundingClientRect(),t=function(e,t,o){var r=o.split(","),n=e.top+e.height/2,i=e.left+e.width/2,s=t.height,p=t.width,a=n-s/2,l=i-p/2,u="",c="0%",f="0%";switch(r[0]){case"top":a-=s/2+e.height/2+8,u="rotate(45deg)",c="100%",f="50%";break;case"bottom":a+=s/2+e.height/2+8,u="rotate(225deg)",f="50%";break;case"left":l-=p/2+e.width/2+8,u=" rotate(-45deg)",f="100%",c="50%";break;case"right":l+=p/2+e.width/2+8,u="rotate(135deg)",c="50%"}switch(r[1]){case"top":a=e.top,c=e.height/2+"px";break;case"bottom":a=e.bottom-s+e.height,c=s-e.height/2+"px";break;case"left":l=e.left,f=e.width/2+"px";break;case"right":l=e.left-p+e.width,f=p-e.width/2+"px"}return{top:a,left:l,transform:u,arrowLeft:f,arrowTop:c}}(r.TriggerEl.getBoundingClientRect(),r.ContentEl.getBoundingClientRect(),r.props.position);r.ContentEl.style.top=t.top-e.top+"px",r.ContentEl.style.left=t.left-e.left+"px",r.ArrowEl.style.transform=t.transform,r.ArrowEl.style.top=t.arrowTop,r.ArrowEl.style.left=t.arrowLeft,"static"!=r.TriggerEl.style.position&&""!=r.TriggerEl.style.position||(r.TriggerEl.style.position="relative")},r.renderTrigger=function(){var t={},o=r.props.triggerOn;switch(t.ref=r.setTriggerRef,o){case"click":t.onClick=r.togglePopup;break;case"hover":t.onMouseEnter=r.onMouseEnter,t.onMouseLeave=r.onMouseLeave}return e.cloneElement(r.props.trigger,t)},r.addWarperAction=function(){var e={className:""+r.props.className,style:Object.assign({},t.popupContent,r.props.style),ref:r.setContentRef,onClick:function(e){e.stopPropagation()}};return"hover"===r.props.triggerOn&&(e.onMouseEnter=r.onMouseEnter,e.onMouseLeave=r.onMouseLeave),e},r.setTriggerRef=function(e){return r.TriggerEl=e},r.setContentRef=function(e){return r.ContentEl=e},r.setArrowRef=function(e){return r.ArrowEl=e},r.setHelperRef=function(e){return r.HelperEl=e},r}return o(n,[{key:"render",value:function(){return e.createElement(e.Fragment,null,e.createElement("div",{style:{position:"absolute",top:"0px",left:"0px"},ref:this.setHelperRef}),this.state.isOpen&&this.props.closeOnDocumentClick&&e.createElement("span",{style:t.overlay,onClick:this.props.closeOnDocumentClick?this.closePopup:void 0}),this.state.isOpen&&e.createElement("div",this.addWarperAction(),e.createElement("div",{ref:this.setArrowRef,style:t.popupArrow}),"function"==typeof this.props.children?this.props.children(this.state.isOpen,this.closePopup):this.props.children),this.renderTrigger())}}]),n}();return r.defaultProps={closeOnDocumentClick:!1,defaultOpen:!1,triggerOn:"click",style:{},className:"",position:"bottom,center"},r});
