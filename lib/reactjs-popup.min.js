!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):e["reactjs-popup"]=t(e.React,e.PropTypes)}(this,function(e,t){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var o=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),n=function(t){function n(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.state={isOpen:o.props.defaultOpen},o.timeOut=0,o.togglePopup=function(){o.setState(function(e){return{isOpen:!e.isOpen}},function(){return o.state.isOpen&&o.setPosition()})},o.openPopup=function(){o.setState({isOpen:!0},function(){return o.setPosition()})},o.closePopup=function(){o.setState({isOpen:!1})},o.onMouseEnter=function(){clearTimeout(o.timeOut),o.openPopup()},o.onMouseLeave=function(){clearTimeout(o.timeOut),o.timeOut=setTimeout(function(){return o.closePopup()},300)},o.setPosition=function(){var e=function(e,t,o){var n=o.split(","),r=e.top+e.height/2,i=e.left+e.width/2,s=t.height,p=t.width,c=r-s/2,a=i-p/2,u="",l="0%",f="0%";switch(n[0]){case"top":c-=s/2+e.height/2+5,u="translateX(-50%) rotate(45deg)",l="100%",f="50%";break;case"bottom":c+=s/2+e.height/2+5,u="translateX(-50%) rotate(225deg)",f="50%";break;case"left":a-=p/2+e.width/2+5,u=" translateY(-50%) rotate(-45deg)",f="100%",l="50%";break;case"right":a+=p/2+e.width/2+5,u="translateY(-50%) rotate(135deg)",l="50%"}switch(n[1]){case"top":c+=s/4,l="25%";break;case"bottom":c-=s/4,l="75%";break;case"left":a+=p/4,f="25%";break;case"right":a-=p/4,f="75%"}return{top:c,left:a,transform:u,arrowLeft:f,arrowTop:l}}(o.TriggerEl.getBoundingClientRect(),o.ContentEl.getBoundingClientRect(),o.props.position);o.ContentEl.style.top=e.top+"px",o.ContentEl.style.left=e.left+"px",o.ArrowEl.style.transform=e.transform,o.ArrowEl.style.top=e.arrowTop,o.ArrowEl.style.left=e.arrowLeft},o.renderTrigger=function(){var t={},n=o.props.triggerOn||"click";switch(t.ref=o.setTriggerRef,n){case"click":t.onClick=o.togglePopup;break;case"hover":t.onMouseEnter=o.onMouseEnter,t.onMouseLeave=o.onMouseLeave}return e.cloneElement(o.props.trigger,t)},o.addWarperAction=function(){var e={className:"popup-content  "+o.props.className,style:Object.assign({position:"fixed"},o.props.style),ref:o.setContentRef,onClick:function(e){return e.stopPropagation()}};return"hover"===o.props.triggerOn&&(e.onMouseEnter=o.onMouseEnter,e.onMouseLeave=o.onMouseLeave),e},o.setTriggerRef=function(e){return o.TriggerEl=e},o.setContentRef=function(e){return o.ContentEl=e},o.setArrowRef=function(e){return o.ArrowEl=e},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),o(n,[{key:"render",value:function(){return e.createElement(e.Fragment,null,this.renderTrigger(),this.state.isOpen&&e.createElement("div",{className:"overlay",onClick:this.props.closeOnDocumentClick?this.closePopup:void 0},e.createElement("div",this.addWarperAction(),e.createElement("div",{ref:this.setArrowRef,className:"popup-arrow"}),"function"==typeof this.props.children?this.props.children(this.state.isOpen,this.closePopup):this.props.children)))}}]),n}();return n.defaultProps={closeOnDocumentClick:!1,defaultOpen:!1,triggerOn:"click",style:{},className:"",position:"bottom,center"},n.propTypes={style:t.object,className:t.string,children:t.oneOf([t.func,t.element,t.string]),closeOnDocumentClick:t.bool,triggerOn:t.oneOf(["hover","click"]),position:t.oneOf(["top,left","top,center","top,right","bottom,left","bottom,center","bottom,right","right,top","right,center","right,bottom","left,top","left,center","left,bottom"])},n});
