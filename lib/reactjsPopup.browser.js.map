{"version":3,"file":"reactjsPopup.browser.js","sources":["../src/Utils.js","../src/popup.css.js","../src/Popup.js"],"sourcesContent":["/* Algo to calculate position \n  1. center position for popup content : the center of the trigger will be the center of the content content\n      so the popup content position will be like this :\n      top => the y of the center for the trigger element : trigger.top + trigger.height/2\n      left => the x of the center for the trigger element : trigger.left + trigger.width/2\n\n  2. translate position according to the first  position attribute  passed  in the function argument \n      for example :\n        position = 'left top'\n        we need to handle the first argument in the position: 'left' => that's mean we need to translate the popup content according to the X axis by - content.width/2\n      \n  3.translate position according to the first  position attribute  passed  in the function argument \n    for example :\n      position = 'left top'\n      the second argument 'top' => translate popup content by + content.height*4/5\n\n*/\n\nexport default function calculatePosition(\n  triggerBounding,\n  ContentBounding,\n  position,\n  arrow,\n  offset\n) {\n  const style = {};\n  const margin = arrow ? 8 : 0;\n  const totalMargin = margin + offset;\n  const args = position.split(\" \");\n  // the step N 1 : center the popup content => ok\n  const CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  const CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  const { height, width } = ContentBounding;\n  let top = CenterTop - height / 2;\n  let left = CenterLeft - width / 2;\n  let transform = \"\";\n  let arrowTop = \"0%\";\n  let arrowLeft = \"0%\";\n  // the  step N 2 : => ok\n  switch (args[0]) {\n    case \"top\":\n      top -= height / 2 + triggerBounding.height / 2 + totalMargin;\n      transform = `rotate(45deg)`;\n      arrowTop = \"100%\";\n      arrowLeft = \"50%\";\n      break;\n    case \"bottom\":\n      top += height / 2 + triggerBounding.height / 2 + totalMargin;\n      transform = `rotate(225deg)`;\n      arrowLeft = \"50%\";\n      break;\n    case \"left\":\n      left -= width / 2 + triggerBounding.width / 2 + totalMargin;\n      transform = ` rotate(-45deg)`;\n      arrowLeft = \"100%\";\n      arrowTop = \"50%\";\n      break;\n    case \"right\":\n      left += width / 2 + triggerBounding.width / 2 + totalMargin;\n      transform = `rotate(135deg)`;\n      arrowTop = \"50%\";\n\n      break;\n  }\n  switch (args[1]) {\n    case \"top\":\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n    case \"bottom\":\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n    case \"left\":\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n    case \"right\":\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  return { top, left, transform, arrowLeft, arrowTop };\n}\n","export default {\n  popupContent: {\n    tooltip: {\n      position: \"absolute\",\n      zIndex: \"2\",\n      width: \"200px\",\n      background: `rgb(255, 255, 255)`,\n      border: `1px solid rgb(187, 187, 187)`,\n      boxShadow: `rgba(0, 0, 0, 0.2) 0px 1px 3px`,\n      padding: \"5px\"\n    },\n    modal: {\n      position: \"relative\",\n      background: `rgb(255, 255, 255)`,\n      width: \"50%\",\n      margin: \"auto\",\n      border: `1px solid rgb(187, 187, 187)`,\n      padding: \"5px\"\n    }\n  },\n  popupArrow: {\n    height: \"10px\",\n    width: \"10px\",\n    position: \"absolute\",\n    background: \"rgb(255, 255, 255)\",\n    transform: \"rotate(45deg)\",\n    margin: \"-5px\",\n    zIndex: \"-1\",\n    boxShadow: \"rgba(0, 0, 0, 0.2) 1px 1px 1px\"\n  },\n  overlay: {\n    tooltip: {\n      position: \"fixed\",\n      top: \"0\",\n      bottom: \"0\",\n      left: \"0\",\n      right: \"0\"\n    },\n    modal: {\n      position: \"fixed\",\n      top: \"0\",\n      bottom: \"0\",\n      left: \"0\",\n      right: \"0\",\n      background: `rgba(0, 0, 0,0.5)`,\n      display: \"flex\",\n      zIndex: \"999\"\n    }\n  }\n};\n","import React from \"react\";\nimport calculatePosition from \"./Utils\";\n\nimport styles from \"./popup.css.js\";\n\nexport default class Popup extends React.Component {\n  static defaultProps = {\n    children: () => <span> Your Content Here !!</span>,\n    onOpen: () => {},\n    onClose: () => {},\n    closeOnDocumentClick: false,\n    defaultOpen: false,\n    on: [\"click\"],\n    contentStyle: {},\n    arrowStyle: {},\n    overlayStyle: {},\n    className: \"\",\n    position: \"bottom center\",\n    modal: false,\n    lockScroll: true,\n    arrow: true,\n    offset: 0,\n    mouseEnterDelay: 100,\n    mouseLeaveDelay: 100\n  };\n  state = {\n    isOpen: this.props.defaultOpen\n  };\n\n  constructor(props) {\n    super(props);\n    this.setTriggerRef = r => (this.TriggerEl = r);\n    this.setContentRef = r => (this.ContentEl = r);\n    this.setArrowRef = r => (this.ArrowEl = r);\n    this.setHelperRef = r => (this.HelperEl = r);\n    this.timeOut = 0;\n  }\n\n  componentDidMount() {\n    if (this.props.defaultOpen) this.setPosition();\n  }\n  componentWillUnmount() {\n    clearTimeout(this.timeOut);\n  }\n\n  lockScroll = () => {\n    if (this.props.modal && this.props.lockScroll)\n      document.getElementsByTagName(\"body\")[0].style.overflow = \"hidden\";\n  };\n  resetScroll = () => {\n    if (this.props.modal && this.props.lockScroll)\n      document.getElementsByTagName(\"body\")[0].style.overflow = \"auto\";\n  };\n\n  togglePopup = () => {\n    if (this.state.isOpen) this.closePopup();\n    else this.openPopup();\n  };\n  openPopup = () => {\n    if (this.state.isOpen) return;\n    this.setState({ isOpen: true }, () => {\n      this.setPosition();\n      this.props.onOpen();\n      this.lockScroll();\n    });\n  };\n  closePopup = () => {\n    if (!this.state.isOpen) return;\n    this.setState({ isOpen: false }, () => {\n      this.props.onClose();\n      this.resetScroll();\n    });\n  };\n  onMouseEnter = () => {\n    clearTimeout(this.timeOut);\n    const { mouseEnterDelay } = this.props;\n    this.timeOut = setTimeout(() => this.openPopup(), mouseEnterDelay);\n  };\n  onMouseLeave = () => {\n    clearTimeout(this.timeOut);\n    const { mouseLeaveDelay } = this.props;\n    this.timeOut = setTimeout(() => this.closePopup(), mouseLeaveDelay);\n  };\n\n  setPosition = () => {\n    const { modal, arrow, position, offset } = this.props;\n    if (modal) return;\n    const helper = this.HelperEl.getBoundingClientRect();\n    const trigger = this.TriggerEl.getBoundingClientRect();\n    const content = this.ContentEl.getBoundingClientRect();\n    const cords = calculatePosition(trigger, content, position, arrow, offset);\n    this.ContentEl.style.top = cords.top - helper.top + \"px\";\n    this.ContentEl.style.left = cords.left - helper.left + \"px\";\n    if (arrow) {\n      this.ArrowEl.style[\"transform\"] = cords.transform;\n      this.ArrowEl.style[\"-ms-transform\"] = cords.transform;\n      this.ArrowEl.style[\"-webkit-transform\"] = cords.transform;\n      this.ArrowEl.style.top = cords.arrowTop;\n      this.ArrowEl.style.left = cords.arrowLeft;\n    }\n    if (\n      this.TriggerEl.style.position == \"static\" ||\n      this.TriggerEl.style.position == \"\"\n    )\n      this.TriggerEl.style.position = \"relative\";\n  };\n\n  addWarperAction = () => {\n    const { contentStyle, className, modal, on } = this.props;\n    const popupContentStyle = modal\n      ? styles.popupContent.modal\n      : styles.popupContent.tooltip;\n\n    const childrenElementProps = {\n      className: `popup-content ${className}`,\n      style: Object.assign({}, popupContentStyle, contentStyle),\n      ref: this.setContentRef,\n      onClick: e => {\n        e.stopPropagation();\n      }\n    };\n    if (!modal && on.includes(\"hover\")) {\n      childrenElementProps.onMouseEnter = this.onMouseEnter;\n      childrenElementProps.onMouseLeave = this.onMouseLeave;\n    }\n    return childrenElementProps;\n  };\n  renderTrigger = () => {\n    const triggerProps = { key: \"T\" };\n    const { on, trigger } = this.props;\n    triggerProps.ref = this.setTriggerRef;\n    const onAsArray = Array.isArray(on) ? on : [on];\n    for (let i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case \"click\":\n          triggerProps.onClick = this.togglePopup;\n          break;\n        case \"hover\":\n          triggerProps.onMouseEnter = this.onMouseEnter;\n          triggerProps.onMouseLeave = this.onMouseLeave;\n        case \"focus\":\n          triggerProps.onFocus = this.onMouseEnter;\n          break;\n      }\n    }\n\n    if (typeof trigger === \"function\")\n      return React.cloneElement(trigger(this.state.isOpen), triggerProps);\n\n    return React.cloneElement(trigger, triggerProps);\n  };\n\n  renderContent = () => {\n    const { arrow, modal, arrowStyle } = this.props;\n    return (\n      <div {...this.addWarperAction()} key=\"C\">\n        {arrow &&\n          !modal && (\n            <div\n              ref={this.setArrowRef}\n              style={Object.assign({}, styles.popupArrow, arrowStyle)}\n            />\n          )}\n        {typeof this.props.children === \"function\"\n          ? this.props.children(this.closePopup, this.state.isOpen)\n          : this.props.children}\n      </div>\n    );\n  };\n\n  render() {\n    const { modal, overlayStyle, closeOnDocumentClick } = this.props;\n    const ovStyle = modal ? styles.overlay.modal : styles.overlay.tooltip;\n    return [\n      <div\n        key=\"H\"\n        style={{ position: \"absolute\", top: \"0px\", left: \"0px\" }}\n        ref={this.setHelperRef}\n      />,\n      this.state.isOpen && (\n        <div\n          key=\"O\"\n          className=\"popup-overlay\"\n          style={Object.assign({}, ovStyle, overlayStyle)}\n          onClick={closeOnDocumentClick ? this.closePopup : undefined}\n        >\n          {modal && this.renderContent()}\n        </div>\n      ),\n      this.state.isOpen && !modal && this.renderContent(),\n      this.renderTrigger()\n    ];\n  }\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  const PropTypes = require(\"prop-types\");\n\n  Popup.propTypes = {\n    arrowStyle: PropTypes.object,\n    contentStyle: PropTypes.object,\n    overlayStyle: PropTypes.object,\n    className: PropTypes.string,\n    modal: PropTypes.bool,\n    closeOnDocumentClick: PropTypes.bool,\n    lockScroll: PropTypes.bool,\n    offset: PropTypes.number,\n    mouseEnterDelay: PropTypes.number,\n    mouseLeaveDelay: PropTypes.number,\n    onOpen: PropTypes.func,\n    onClose: PropTypes.func,\n    trigger: PropTypes.oneOfType([PropTypes.func, PropTypes.element])\n      .isRequired,\n    on: PropTypes.oneOfType([\n      PropTypes.oneOf([\"hover\", \"click\", \"focus\"]),\n      PropTypes.arrayOf(PropTypes.oneOf([\"hover\", \"click\", \"focus\"]))\n    ]),\n    children: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.element,\n      PropTypes.string\n    ]).isRequired,\n    position: PropTypes.oneOf([\n      \"top left\",\n      \"top center\",\n      \"top right\",\n      \"bottom left\",\n      \"bottom center\",\n      \"bottom right\",\n      \"right top\",\n      \"right center\",\n      \"right bottom\",\n      \"left top\",\n      \"left center\",\n      \"left bottom\"\n    ])\n  };\n}\n"],"names":["calculatePosition","triggerBounding","ContentBounding","position","arrow","offset","margin","totalMargin","args","split","CenterTop","top","height","CenterLeft","left","width","transform","arrowTop","arrowLeft","Popup","props","state","defaultOpen","lockScroll","modal","document","getElementsByTagName","style","overflow","resetScroll","togglePopup","isOpen","closePopup","openPopup","setState","setPosition","onOpen","onClose","onMouseEnter","timeOut","mouseEnterDelay","setTimeout","onMouseLeave","mouseLeaveDelay","helper","HelperEl","getBoundingClientRect","trigger","TriggerEl","content","ContentEl","cords","ArrowEl","addWarperAction","contentStyle","className","on","popupContentStyle","styles","popupContent","tooltip","childrenElementProps","Object","assign","setContentRef","stopPropagation","includes","renderTrigger","triggerProps","key","ref","setTriggerRef","onAsArray","Array","isArray","i","len","length","onClick","onFocus","React","cloneElement","renderContent","arrowStyle","setArrowRef","popupArrow","children","r","setHelperRef","overlayStyle","closeOnDocumentClick","ovStyle","overlay","undefined","Component","defaultProps"],"mappings":"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"}